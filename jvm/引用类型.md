# 引用类型
#Java #JVM 

在 JDK 1.2 之前，Java 内的引用还是很传统的定义；如果 reference 类型的数据中存储的数值代表的是另外一块内存的起始地址，就称该 reference 数据是代表某块内存、某个对象的引用。这种定义并没有什么问题，只是现在看来有些过于狭隘。

对于一个对象在这种定义下只有 “被引用” 或者 “未被引用” 两种状态。我们希望能描述一些对象：当内存空间还足够时，能保留在内存之中，如果内存空间在进行垃圾收集后仍然非常紧张，那就可以抛弃这些对象。

在 JDK 1.2 之后，Java 对引用的概念进行了扩充，将引用分为以下几种：

+ **强引用（Strongly Reference）**。程序代码之中普遍存在的引用赋值，只要强引用关系还存在，垃圾收集器就永远不会回收掉被引用的对象。
+ **软引用（Soft Reference）**。用来描述一些还有用，但非必须的对象。只被软引用关联着的对象，在系统将要发生内存溢出异常前，会把这些对象列进回收范围之中进行二次回收，如果二次回收还是没有足够的内存，则抛出 OOM。
+ **弱引用（Weak Reference）**。用来描述那些非必须对象，但是强度比软引用更弱一些，被弱引用关联的对象只能生存到下一次垃圾收集发生为止。在垃圾收集器开始工作，无论当前内存是否足够，都会回收掉只被弱引用关联的对象。
+ **虚引用（Phantom Reference）**。也称为 “幽灵引用” 或者 “幻影引用”，它是最弱的一种引用关系。一个对象是否有虚拟引用的存在，完全不影响其被垃圾回收，也无法通过虚引用来取得一个对象实例。