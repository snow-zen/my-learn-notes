# 引入参数对象
#Refactoring 

常常会看到一组数据项总是结拜同行，出没于一个又一个的函数。这样的一组数据就是所谓的数据泥团，我喜欢代之以一个数据结构。

## 动机

将数据组织成结构是一件有价值的事，因为这让数据项之间的关系变得明细。

使用新的数据结构，函数的参数列表也能缩短。并且经过重构之后，所有使用该数据结构的函数都会通过同样的名字来访问其中的元素，从而提升代码的一致性。

但这项重构的真正意义在于，它会催生代码中更深层次的改变。一旦识别出新的数据结构，就可以重组程序的行为来使用这些结构。

> 组合这些数据结构时，这个过程会改变代码的概念图景，将这些数据结构提升为新的抽象概念，可以帮助我更好地理解问题域。

## 做法

1. 如果暂时还没有一个合适的数据结构，就创建一个。

> 倾向使用类，因为稍后把行为放进来会比较容易。通常会尽量确保这些新建的数据结构是[值对象](https://martinfowler.com/bliki/ValueObject.html)。

2. 测试。
3. 使用[[改变函数声明]]给原来的函数新增一个参数，类型是新建的数据结构。
4. 调整所有调用者，传入新数据结构的适当实例。每修改一处，执行测试。
5. 用新数据结构中的每项元素，逐一取代参数列表中与之对应的参数项，然后删除原来的参数。测试。



