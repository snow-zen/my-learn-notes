# 变量改名
#Refactoring 

好的命名是整洁编程的核心。

## 动机

变量可以很好地解释一段程序在干什么 —— 如果变量名起得好的话。但更多时候名称会取错，有时是因为对问题的理解加深，还有时是因为程序的用途随着用户的需求改变了。

使用范围越广，名字的好坏就越重要。对于只在一行的 Lambda 表达式中的变量，变量名只有一个字母也没问题，因为变量的用途在上下文中很清晰。同理，短函数的参数也是如此。

对于作用域超过一次函数调用的字段，其名称的命名需要用心，因此这是最需要花心思的地方。

## 机制

1. 如果变量被广泛使用，考虑运用[[封装变量]]将其封装起来。
2. 找出所有使用该变量的代码，逐一修改。

> 如果在另一个代码库中使用了该变量，这就是一个“已发布的变量”，此时不能进行这个重构。
> 如果变量值从不修改，可以将其复制到一个新名字下，然后逐一修改使用代码，每次修改后执行测试。

3. 测试。