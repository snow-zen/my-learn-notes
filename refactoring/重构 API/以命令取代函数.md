# 以命令取代函数
#Refactoring 

函数，不管是独立函数，还是以方法形式附着在对象上的函数，是程序设计的基本构造块。

## 动机

将函数封装成自己的对象，这样的对象称之为“命令对象”，或简称“命令”。这种对象大多只服务于单一函数，获得对该函数的请求，执行该函数，就是这种对象存在的意义。

与普通函数相比，命令对象提供了更大的控制灵活性和更强的表达能力：

+ 除了函数调用本身，命令对象还可以支持附加操作，例如撤销操作。
+ 可通过命令对象提供的方法设置命令的参数值，从而支持更丰富的生命周期管理能力。
+ 可借助继承和钩子对函数行为加以定制。

> 虽然命令对象的使用有很好的理由，但是也不要忘记这是以复杂性作为代价的。所以如果可以选择时，大多数情况都会考虑使用函数而不是命令对象。

## 做法

1. 为想要包装的函数创建一个空的类，根据函数的名字为其命名。
2. 使用搬移函数把函数移到空的类里。

> 保持原有函数作为转发函数，至少保留到重构结束时删除。遵守编程语言的命名规范来给命令对象起名。如果没有合适的命名规范，就给命令对象中负责实际执行命令起一个通用的名字，例如 execute 或 call。

3. 考虑给每个参数创建一个字段，并在构造函数中添加对应参数。

