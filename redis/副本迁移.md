# 副本迁移
#Redis 

Redis 集群实现了一个副本迁移的概念，以提高系统的可用性。它使用一种算法来避免出现主节点没有副本的情况。该算法保证最终每个主节点都至少有一个副本节点。

首先，我们需要定义什么是好的副本：从给定节点的角度来看，好的副本是不处于 `FAIL` 状态的副本。

在检测到至少有一个主节点没有好的副本节点时触发算法的执行。算法将从具有多个副本的主节点中迁移一个副本到孤立的主节点下，保证每个主节点都至少有一个副本。

该算法可通过配置参数 `cluster-migration-barrier`：只有当主节点下的副本数大于等于指定值时，才能进行副本迁移。

