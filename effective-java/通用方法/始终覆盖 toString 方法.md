# 始终覆盖 toString 方法
#Java 

Object 类虽然提供了默认的 toString 方法实现，但是它所返回的字符串通常不是类用户所希望看到的。默认 toString 方法返回的字符串中由类名称，中间的 `@` 符号以及散列码的无符号十六位表示法。

Object.toString 方法的通用约定指出，被返回的字符串应该是简洁、信息丰富并且易于阅读的表达方式，同时建议所有子类都覆盖该方法。在实际的使用中，toString 方法应该返回字符串中应包含所有值得关注的信息。如果实例中所包含的状态信息过大或难以表达时，toString 方法可以仅返回一个摘要信息。

> 虽然遵守 toString 方法约定不像 hashCode、equals 方法那么重要，但是提供好的 toString 方法可以使类用起来更舒适，使用这个类的系统也更易于调试。理想状态下，toString 方法应该是自描述的。

## 约定返回格式

在实现 toString 方法时，必须做出一个重要决定：是否需要在文档中指定返回值的格式。

对于值类（例如，电话号码、矩阵类），建议这样做。这种做法存在以下好处：
+ 提供一种标准、明确、适合人阅读的表示法。
+ 可用于输入和输出，可用于在适合人类阅读的数据实例中永久保存。例如，CSV 文档。

如果 toString 方法明确指定了返回值的格式，通常最好再提供一个相匹配的静态工厂方法或者构造方法，以便程序员在类实例和字符串表达式之间进行转换。但是明确指定返回值格式后也存在不足：如果类已经被广泛使用时，一旦指定了格式就必须始终坚持一致，如果在未来的版本中改变了这种表示法，就会破坏客户端基于这种格式编码的解析代码。

> 无论是否指定格式，都应该在文档中明确表明意图。对于没有明确决定格式的 toString 方法，如果有程序员去进行依赖，一旦格式改变则自行承担后果。

无论是否指定格式，都应该为 toString 返回值所包含的信息提供一种可通过编程访问的途径。如果不这么做，就会迫使需要这些信息的程序员不得不自行解析字符串。这种场景下，即使没有明确指定字符串格式，字符串格式也成为事实上的 API。

除此之外，在静态工具类中覆盖 equals 方法是没有意义的。同时也不需要覆盖枚举类的 toString 方法，因为 Java 已经提供了非常完美的方法。

> Java 中大多数集合类实现的 toString 方法都继承于抽象集合类。