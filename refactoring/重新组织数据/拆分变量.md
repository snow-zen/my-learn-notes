# 拆分变量
#Refactoring 

程序内的变量总是有各种各样的用途。

## 动机

当变量具有多种用途时，其中某些用途会很自然地导致临时变量被多次赋值。其中有两个典型的例子：循环变量和结果收集变量。

除这两种情况外，其他变量应该只被赋值一次。如果它们被赋值超过一次，就意味它们在函数中承担了一个以上的责任。如果变量承担了多个责任，它就应该被替换为多个变量，每个变量只承担一个责任。

> 同一个变量承担两件不同的事情，会令代码阅读者糊涂。

## 做法

1. 待分解变量的声明及其第一次被赋值处，修改其名称。

> 如果之后的变量赋值是一个结果收集变量，就不要分解它。

2. 如果可能的话，将新的变量声明为不可修改。
3. 以该变量的第二次赋值动作为界，修改此前对该变量的所有引用，让它们引用新变量。
4. 测试。
5. 重复上述过程。每次都在声明处对变量改名，并修改下次赋值之前的引用，直至到达最后一处赋值。