# 以工厂函数取代构造函数
#Refactoring 

很多面向对象语言都有特别的构造函数，专门用于对象的初始化。

## 动机

相比一般函数相比，构造函数又常有一些丑陋的局限性。例如，Java 的构造函数只能返回当前所调用类的实例，也就是无法根据环境或者参数信息返回子类实例或代理对象。构造函数的名字是固定的，因此无法使用比默认名字更清晰的函数名。构造函数需要通过特殊的操作符来调用，所以在要求普通函数的场合就难以使用。

工厂函数就不受限制。工厂函数的实现内部可以调用构造函数，但也可以换成别的方式实现。

## 做法

1. 新建一个工厂函数，让它调用现有的构造函数。
2. 将调用构造函数的代码改为调用工厂函数。
3. 每修改一处，就执行测试。
4. 尽量缩小构造函数的可见范围。