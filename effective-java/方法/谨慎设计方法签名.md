# 谨慎设计方法签名
#Java 

本条目是若干 API 设计技巧的总结，这些设计技巧将有助于使你的 API 更易于学习和使用，并且比较不容易出错。

## 谨慎选择方法的名称

方法的名称应该始终遵循标准的命名习惯，以达到以下目标：

1. 易于理解，并与同一个包中的其他名称风格一致。
2. 选择与大众认可的名称（如果存在）相一致的名称。

> 可以参考  Java 类库的 API。尽管 Java 类库的 API 中也有大量不一致的地方，考虑到这些 Java 类库的规模和范围，这是不可避免的，但它们还是得到了相当程度的认可。

## 不要过于追求提供便利的方法

每个方法都应该尽其所能，保持单一职责原则。对于一个接口或类，拥有太多的方法会使其难以学习、使用、文档化、测试和维护。对于类和接口所支持的每个动作，都提供一个功能齐全的方法。

只有当一项操作被经常用到的时候，才考虑为它提供快捷方式。如果不能确定，最好不要提供快捷方式。

## 避免过长的参数

理想状态下，参数应控制在四个或者更少。大多数程序员无法记住更长的参数。如果你的方法超过这个限制，你的 API 就不太方便使用了，除非用户不停地参考文档。

> ⚠️ 注意：相同类型的长参数序列格外有害，API 的用户在不小心弄错参数顺序时，程序依然可以编译和运行，只不过程序的运行结果没有按照预期进行。

优化技巧：

1. 把一个方法分解为多个方法，每个方法只需要这些参数的一个子集。这可能导致方法过多，但还可以通过提升它们的[正交性](https://baike.baidu.com/item/%E6%AD%A3%E4%BA%A4%E6%80%A7)以减少方法的数目。
2. 创建辅助类，用来保持参数的分组。辅助类一般为静态成员类。
3. 对象构建到方法调用都采用 Builder 模式。

## 对于参数类型，要优先使用接口而不是类

只要有适当的接口可用来定义参数，就优先使用这个接口，而不是使用实现该接口的类。

如果使用的是类而不是接口，则限制了客户端只能传入特定的实现，如果碰巧输入的数据是以其他的形式存在，就会导致不必要的、可能非常昂贵的拷贝操作。

## 对于 boolean 参数，要优先使用两个元素的枚举类型

优先使用枚举类型可使代码更易于阅读和编写，尤其是当你在使用支持自动完成功能的 IDE 时。它也更易于添加其他选项。