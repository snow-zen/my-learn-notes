# 内存泄露与内存溢出
#CS

## 内存泄露

内存泄露是指程序在管理内存时出现错误，对于不再使用的内存并没有释放。当对象存储在内存中，但是没有任何代码可以访问它们时，也可能会发生内存泄露。

以发生的方式进行分类：

+ **常发性内存泄露**：发生内存泄露的代码会执行很多次，每次执行都会有一块内存泄露。
+ **偶发性内存泄露**：发生内存泄露的代码只有在特定环境下才会被执行。但是在特定环境下，偶发性会转换为常发性的。
+ **一次性内存泄露**：发生内存泄露的代码只会执行一次。例如，在构造函数中出现的内存泄露就只会执行一次。
+ **隐式内存泄露**：程序在运行过程中，不断分配内存直到程序结束才释放内存。对于长时间运行的程序而言，最终会耗尽系统的可用内存。

四种类型中，隐式内存泄露危害最大，因为内存泄露的堆积，最终会消耗完系统的所有可用内存。

## 内存溢出

程序存储数据所需要的内存大小大于系统所能分配的内存大小时，系统无法分配更多的内存，此时就会产生内存溢出。

解决方法：

1. 修改 JVM 启动参数，增加内存。
2. 检查错误日志，看看 OOM 异常前是否有其他错误。
3. 分析代码，找出可能发生内存泄露的位置。
4. 使用内存动态查看工具分析内存使用情况。
