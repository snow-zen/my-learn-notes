# 全局数据
#Refactoring 

全局数据仍然是最刺鼻的坏味道之一。

全局数据的问题在于，从代码库中的任何一个角落都可以修改它，而且没有任何机制可以探测出到底哪段代码做出了修改。

首要的防御手段就是[[封装变量]]，每当看到可能被各处代码污染的数据时，这通常是第一招。当你把全局数据用一个函数包装起来时，至少你就能看见修改它的地方，并对其进行控制访问。

> 完成控制之后，最好将函数搬移到一个类或模块中，只允许模块内的代码使用它，进一步控制其作用域。
