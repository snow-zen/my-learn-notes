# 替换算法
#Refactoring 

## 动机

通往罗马的路不止一条，其中某些方法会比另一些简单。算法也是如此，如果发现做一件事可以有更清晰的方式，则就会用更清晰的方式取代复杂的方式。

“重构”可以把一些复杂的东西分解为较简单的小块，但有时你就必须壮士断腕，删掉整个算法，代之以简单的算法。

使用这项重构手法之前，得确定自己已经尽可能分解了原先的函数。替换一个巨大且复杂的算法是非常困难的，只有先将它分解为较为简单的小型函数时，才能很有把握地进行算法替换工作。

## 做法

1. 整理一下待替换的算法，保证它已经被抽取到一个独立的函数中。
2. 先只为这个函数准备测试，以便固定它的行为。
3. 准备好另一个算法。
4. 执行静态检查。
5. 运行测试，比对新旧算法的运行结果。如果测试通过，那就大功告成；否则，在后续测试和调试过程中，以旧算法为比较参照标准。