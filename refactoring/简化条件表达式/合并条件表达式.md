# 合并条件表达式
#Refactoring 

## 动机

有时可能会出现这样一串条件检查：检查条件各不相同，但最终的行为是一致的。如果发现这种情况，就应该使用“逻辑或”和“逻辑与”将它们合并为一个条件表达式。

之所以要合并代码，有两个重要原因。首先，合并后的条件代码会表述“实际上只有一次条件检查，只不过有多个并列条件需要检查而已”，从而使这一次检查的用意更清晰。

其次，这项重构往往可以为使用[[提炼函数]]做好准备。将检查条件提炼为一个独立的函数对于厘清代码意义非常有用，因为它把描述“为什么”语句换成了“为什么这样做”。

条件语句的合并理由也同时指出了不要合并的理由：如果认为这些检查的确彼此独立，的确不应该被视为同一次检查，则就不会使用本项重构。

## 做法

1. 确定这些条件表达式都没有副作用。
2. 使用恰当的逻辑运算符，将两个相关条件表达式合并为一个。
3. 测试。
4. 重复前面的合并过程，直到所有相关的条件表达式都合并到一起。
5. 可以考虑对合并后的条件表达式实施[[提炼函数]]。